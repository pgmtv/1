import requests

# Lista de URLs
repo_urls = [
    "https://raw.githubusercontent.com/iptv-org/iptv/master/streams/fr.m3u"
]

# Lista para armazenar o conteúdo dos arquivos .m3u
all_content = []

# Itera sobre os URLs e coleta o conteúdo dos arquivos .m3u
for url in repo_urls:
    if url.endswith('.m3u'):
        response = requests.get(url)
        if response.status_code == 200:
            all_content.append(response.text)
        else:
            print(f"Erro ao acessar {url}: {response.status_code}")

# Escreve todo o conteúdo coletado em um único arquivo .m3u
with open('lista1.M3U', 'w', encoding='utf-8') as f:
    f.write('#EXTM3U\n')  # Cabeçalho obrigatório para arquivos .m3u
    for content in all_content:
        f.write(content.strip() + '\n')

print('Arquivo lista1.m3u foi criado com sucesso.')

